// ============================================
// RenzMcLang Documentation Website
// 100% Pure RenzMcLang Code with Flask
// ============================================

// Program utama untuk menjalankan website dokumentasi RenzMcLang.
// Ditulis pakai sintaks RenzMcLang yang memanggil library Python (Flask, markdown2, dll).
// Website ini membaca file markdown dari folder `docs/`, mengonversinya ke HTML,
// lalu menampilkannya via template Flask. Ada juga handler untuk error 404 & 500.

tampilkan "=== RenzMcLang Documentation Website ==="
tampilkan "Initializing Flask application..."

// Import library Python yang diperlukan
impor_python "flask" sebagai Flask
impor_python "markdown2"
impor_python "re"

// Buat objek Flask sebagai inti aplikasi web
app itu panggil_python Flask.Flask("renzmc_docs")

// Konfigurasi Flask: auto reload template saat development, nonaktifkan cache statis
panggil_python app.config.update({
    "TEMPLATES_AUTO_RELOAD": benar,
    "SEND_FILE_MAX_AGE_DEFAULT": 0
})

tampilkan "âœ“ Flask app created successfully"

// ============================================
// Konfigurasi Port
// ============================================

// Gunakan port default Flask (5000)
port itu 5000

// ============================================
// Helper Functions
// ============================================

// Fungsi baca_file_markdown: membaca file markdown dari folder docs
fungsi baca_file_markdown(nama_file):
    tampilkan f"Reading markdown file: {nama_file}"
    file_path itu f"docs/{nama_file}.md"
    coba
        dengan buka(file_path, "r", encoding="utf-8") sebagai f
            konten itu f.read()
        selesai
        tampilkan f"âœ“ File read successfully: {file_path}"
        hasil konten
    tangkap Exception sebagai e
        tampilkan f"âœ— Error reading file: {e}"
        hasil salah
    selesai
selesai

// Fungsi konversi_markdown_ke_html
fungsi konversi_markdown_ke_html(markdown_text):
    tampilkan "Converting markdown to HTML..."
    coba
        extras_list itu ["fenced-code-blocks", "tables", "header-ids", "code-friendly", "cuddled-lists", "strike", "task_list"]
        html itu panggil_python markdown2.markdown(markdown_text, extras=extras_list)
        tampilkan "âœ“ Markdown converted successfully"
        hasil html
    tangkap Exception sebagai e
        tampilkan f"âœ— Error converting markdown: {e}"
        hasil "<p>Error converting markdown content</p>"
    selesai
selesai

// Fungsi ekstrak_metadata
fungsi ekstrak_metadata(markdown_text):
    tampilkan "Extracting metadata from markdown..."
    metadata itu {}
    version_match itu panggil_python re.search(r"\*\*Version:\*\*\s*(\S+)", markdown_text)
    jika version_match
        metadata["version"] itu panggil_python version_match.group(1)
    selesai
    updated_match itu panggil_python re.search(r"\*\*Last Updated:\*\*\s*(\S+)", markdown_text)
    jika updated_match
        metadata["updated"] itu panggil_python updated_match.group(1)
    selesai
    tampilkan f"âœ“ Metadata extracted: {metadata}"
    hasil metadata
selesai

// Fungsi dapatkan_judul_dari_file
fungsi dapatkan_judul_dari_file(nama_file):
    judul_python itu panggil_python nama_file.replace("-", " ").title()
    hasil judul_python
selesai

tampilkan "âœ“ Helper functions defined"

// ============================================
// Routes
// ============================================

tampilkan "Defining routes..."

fungsi home():
    tampilkan "â†’ Serving home page"
    hasil panggil_python Flask.render_template("home.html")
selesai

fungsi show_doc(doc_name):
    tampilkan f"â†’ Serving documentation: {doc_name}"
    markdown_content itu baca_file_markdown(doc_name)
    jika markdown_content == salah
        tampilkan f"âœ— Document not found: {doc_name}"
        hasil panggil_python Flask.render_template("doc.html", title="Document Not Found", content="<h1>404 - Document Not Found</h1><p>The requested documentation page could not be found.</p>", meta={})
    selesai
    metadata itu ekstrak_metadata(markdown_content)
    html_content itu konversi_markdown_ke_html(markdown_content)
    judul itu dapatkan_judul_dari_file(doc_name)
    tampilkan f"âœ“ Rendering document: {judul}"
    hasil panggil_python Flask.render_template("doc.html", title=judul, content=html_content, meta=metadata)
selesai

fungsi page_not_found(e):
    tampilkan f"âœ— 404 Error: {e}"
    hasil panggil_python Flask.render_template("doc.html", title="Page Not Found", content="<h1>404 - Page Not Found</h1><p>The page you are looking for does not exist.</p>", meta={}), 404
selesai

fungsi internal_error(e):
    tampilkan f"âœ— 500 Error: {e}"
    hasil panggil_python Flask.render_template("doc.html", title="Internal Server Error", content="<h1>500 - Internal Server Error</h1><p>Something went wrong on our end. Please try again later.</p>", meta={}), 500
selesai

panggil_python app.add_url_rule("/", "home", home)
panggil_python app.add_url_rule("/docs/<doc_name>", "show_doc", show_doc)
panggil_python app.register_error_handler(404, page_not_found)
panggil_python app.register_error_handler(500, internal_error)

tampilkan "âœ“ Routes and error handlers configured"

// ============================================
// Main
// ============================================

tampilkan ""
tampilkan "==================================="
tampilkan "ðŸš€ Starting RenzMcLang Documentation Website"
tampilkan "==================================="
tampilkan ""
tampilkan f"Server will start on http://0.0.0.0:{port}"
tampilkan "Press CTRL+C to stop the server"
tampilkan ""

panggil_python app.run(host="0.0.0.0", port=port, debug=salah)
